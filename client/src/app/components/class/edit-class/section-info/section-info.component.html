<div class="card mb-4 tab-pane fade show active" id="home" role="tabpanel">
  <div class="card-header"> Add Section </div>
  <div class="card-body">
    <form #f="ngForm" (ngSubmit)="f.form.valid && update(f)">
     <div class="row">
        <div class="col-sm-12">
           <div class="row">
              <div class="mb-4">
                 <!-- <div class="card-header">
                    Create Section
                    </div> -->
                 <div>
                    <div class="table-responsive" >
                       <table class="table table-bordered  custom-table">
                          <thead class="thead-dark custom-thead">
                             <tr>
                                <ng-container>
                                   <th>NO</th>
                                   <th>
                                      Section Name
                                   </th>
                                   <th>
                                      Teacher
                                   </th>
                                   <th>
                                      Action
                                   </th>
                                </ng-container>
                                <!-- <td>
                                   Action
                                   </td> -->
                             </tr>
                          </thead>
                          <tbody>
                             <ng-container *ngFor="let row of model.dynamicArray; let rowIdx = index ">
                                <tr>
                                   <td class="mt-3 ml-2">{{rowIdx+1}}</td>
                                   <td>
                                      <div class="col-sm-12 customDropList">
                                         <div class="mlty-lable form-group example-full-width custom-multi-selector multi-select-margin accountNumber-section" id="section-id">
                                            <ng-select [items]="sectionArray" #sectionName="ngModel" (change)="sectionChange($event, row)" bindLabel="name" placeholder="Section" appendTo="body" [multiple]="false" [searchable]="true" [clearable]="true" [(ngModel)]="row.activeSection" name="sectionName{{rowIdx}}" class="custom"></ng-select>
                                         </div>
                                      </div>
                                      <!-- <mat-form-field class="example-full-width mt-2" appearance="outline">
                                         <mat-label>Section Name</mat-label>
                                         <input matInput placeholder="Secton Name" #sectionName="ngModel" required name="sectionName{{rowIdx}}"
                                             [(ngModel)]="row.sectionName">
                                             <mat-error *ngIf="f.submitted && sectionName.invalid">
                                                 <span>Field is required</span>
                                             </mat-error>
                                         </mat-form-field> -->
                                   </td>
                                   <td>
                                      <div class="col-sm-12 customDropList">
                                         <div class="mlty-lable form-group example-full-width  custom-multi-selector multi-select-margin accountNumber-section" id="teacehr-id">
                                            <ng-select [items]="teacherArray" bindLabel="name" #teacherName="ngModel" (change)="assignTeacher($event, row)" placeholder="Teacher"  appendTo="body" [multiple]="false" [searchable]="true" [clearable]="true" [(ngModel)]="row.activeTeacher" name="teacherName{{rowIdx}}" class="custom"></ng-select>
                                         </div>
                                      </div>
                                      <!-- <mat-form-field class="example-full-width mt-2" appearance="outline">
                                         <mat-label> Teacher Name </mat-label>
                                         <input matInput placeholder="Teacher Name" required #teacherName="ngModel" name="teacherName{{rowIdx}}"
                                             [(ngModel)]="row.teacher">
                                             <mat-error *ngIf="f.submitted && teacherName.invalid">
                                                 <span>Field is Required</span>
                                             </mat-error>
                                         </mat-form-field> -->
                                   </td>
                                   <td>
                                      <button [disabled]="model.dynamicArray.length == 3" class="btn btn-success btn-icon ml-2 mt-2" type="button"
                                      *ngIf="rowIdx == (model.dynamicArray.length - 1)" (click)="addRow(rowIdx)">
                                      <i class="fa fa-plus"></i>
                                      </button>
                                      <ng-container>
                                         <button *ngIf="(model.dynamicArray.length  - 1) != 0" (click)="removeRow(rowIdx, row)"  
                                         class="btn btn-danger btn-icon ml-2 mt-2" type="button">
                                         <i class="fa fa-trash"></i>
                                         </button>
                                      </ng-container>
                                      <!-- <label id="err{{rowIdx}}" class="dynamic-error"></label> -->
                                   </td>
                                </tr>
                             </ng-container>
                          </tbody>
                       </table>
                    </div>
                 </div>
              </div>
           </div>
        </div>
     </div>
     <div class="ml-2 mb-3 mt-5">
        <div>
           <div class="col-md-12">
              <!-- <button type="submit" class="btn btn-primary me-2">Save </button> -->
              <button type="submit" class="btn btn-success me-2">Update </button>
              <button type="button"  class="btn btn-danger me-2">Clear </button>
              <button type="button" class="btn btn-dark me-2" tabindex="0" [routerLink]="['/student']">Cancel </button>
           </div>
        </div>
     </div>
    </form>
  </div>
</div>